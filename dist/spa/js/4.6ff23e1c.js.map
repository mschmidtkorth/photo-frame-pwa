{"version":3,"sources":["webpack:///./src/pages/PageSlideshow.vue?1ce5","webpack:///src/pages/PageSlideshow.vue","webpack:///./src/pages/PageSlideshow.vue?2b8e","webpack:///./src/pages/PageSlideshow.vue","webpack:///./src/pages/PageSlideshow.vue?34fa","webpack:///./src/pages/PageSlideshow.vue?12d6"],"names":[],"mappings":";;;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,kBAAkB,mBAAmB,OAAO,8LAA8L,KAAK,qCAAqC,sBAAsB,0BAA0B,sBAAsB,4BAA4B,iCAAiC,8BAA8B,6CAA6C,cAAc,OAAO,0IAA0I,KAAK,8BAA8B,+BAA+B,6EAA6E,qDAAqD,QAAQ,0CAA0C,iBAAiB,OAAO,kFAAkF,QAAQ,mDAAmD,sBAAsB,6BAA6B,+BAA+B,8BAA8B,0CAA0C,cAAc,OAAO,2IAA2I,KAAK,yBAAyB,6DAA6D,+BAA+B,8BAA8B,2CAA2C,cAAc,OAAO,kIAAkI,KAAK,yBAAyB;AACvyD;AACA,iDAAiD,+BAA+B,8BAA8B,2CAA2C,cAAc,OAAO,kGAAkG,KAAK,2BAA2B,+BAA+B,OAAO,2CAA2C,cAAc,OAAO,gCAAgC,QAAQ,iFAAiF,OAAO,YAAY,UAAU,8DAA8D,+CAA+C,wCAAwC,yCAAyC,8BAA8B,iBAAiB,oCAAoC,EAAE;AAC/zB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA;AACA,GANA,CAMA;AACA;AACA;AACA,CAVA;;AAWA;AACA;AACA;AACA;AACA,CAJA;;AAKA;AACA;AACA;AACA;AACA,4BADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,oCAJA;AAKA,wCALA;AAMA,oBANA;AAOA;AAPA;AASA,GAXA;;AAYA;AACA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;AAAA;AAAA;AAAA;AACA;;AACA;AACA;;AACA;AACA,KAbA;;AAcA;AACA;AACA,KAhBA;;AAiBA;AACA;AACA;AACA,OAFA;AAGA;AACA;;AAtBA,GAZA;AAoCA;AACA;AACA;AACA;AACA;AACA;AALA,GApCA;AA2CA;AACA;AACA;;AACA;AACA,8BADA,CACA;;AACA;AACA;;AACA,2BACA;AACA;AACA;AACA,OAHA,CAGA,IAHA,CAGA,IAHA,CADA,EAKA,IALA;AAOA,KAdA;AAeA;AACA;;AACA;AACA;AACA;AACA,KApBA;AAqBA;AACA;AACA,KAvBA;AAwBA;AACA;AACA;AACA;AA3BA,GA3CA;;AAwEA;AACA;AACA;;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA,GAjFA;;AAkFA;AACA;AACA,yBADA,CAEA;AACA;AACA;;AAvFA,G;;ACpJmV,CAAgB,qHAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3Q;AAC3B;AACL;AACa;;;AAGzE;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,2CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,oGAAiB;AACoC;AACU;AACI;AAC7B;AACS;AACT;AACoC;AACzF,6BAAQ,2BAA2B,uCAAS,CAAC,iDAAc,CAAC,qDAAgB,CAAC,6BAAI,CAAC,mCAAO,CAAC,2BAAG,CAAC;;;;;;;;AC3B9F,uC;;;;;;;;ACAA;AAAA;AAAA","file":"js/4.6ff23e1c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('q-carousel',{attrs:{\"swipeable\":\"\",\"autoplay\":_vm.$store.autoplay,\"transition-next\":\"slide-fade\",\"transition-prev\":\"slide-fade\",\"fullscreen\":_vm.fullscreen,\"animated\":\"\",\"infinite\":\"\",\"height\":_vm.windowHeight},on:{\"update:fullscreen\":function($event){_vm.fullscreen=$event},\"click\":_vm.showControls},scopedSlots:_vm._u([{key:\"control\",fn:function(){return [_c('q-carousel-control',{class:_vm.controlClass,attrs:{\"position\":\"bottom-right\",\"offset\":[18, 18]}},[_c('q-btn',{attrs:{\"push\":\"\",\"square\":\"\",\"dense\":\"\",\"color\":\"grey\",\"size\":\"md\",\"text-color\":\"white\",\"icon\":_vm.fullscreen ? 'fullscreen_exit' : 'fullscreen'},on:{\"click\":_vm.toggleFullScreen}})],1),_c('q-carousel-control',{staticClass:\"text-white rounded-borders\",class:_vm.controlClass,staticStyle:{\"background\":\"rgba(0, 0, 0, .3)\",\"padding\":\"4px 8px\"},attrs:{\"position\":\"top-right\",\"offset\":[18, 18]}},[_c('q-toggle',{attrs:{\"dense\":\"\",\"dark\":\"\",\"color\":\"orange\",\"label\":'Only New (' + _vm.newImageCt + ')'},model:{value:(_vm.newImagesOnly),callback:function ($$v) {_vm.newImagesOnly=$$v},expression:\"newImagesOnly\"}})],1),_c('q-carousel-control',{class:_vm.controlClass,attrs:{\"position\":\"top-right\",\"offset\":[18, 60]}},[_c('q-btn',{attrs:{\"push\":\"\",\"square\":\"\",\"size\":\"md\",\"dense\":\"\",\"color\":\"grey\",\"text-color\":\"white\",\"icon\":_vm.$store.autoplay === 0 ? 'play_arrow' : 'pause'},on:{\"click\":function($event){_vm.$store.autoplay = _vm.$store.autoplay === 0 ? 8000 : 0}}})],1),_c('q-carousel-control',{class:_vm.controlClass,attrs:{\"position\":\"top-right\",\"offset\":[18, 100]}},[_c('q-btn',{attrs:{\"push\":\"\",\"square\":\"\",\"size\":\"md\",\"dense\":\"\",\"color\":\"grey\",\"text-color\":\"white\",\"icon\":_vm.$store.newImages ? 'check' : 'cached'},on:{\"click\":function($event){_vm.$store.newImages\n              ? _vm.$actions.markImagesRead()\n              : _vm.$actions.loadImages(false)}}})],1),_c('q-carousel-control',{class:_vm.controlClass,attrs:{\"position\":\"top-right\",\"offset\":[18, 140]}},[_c('q-btn',{attrs:{\"push\":\"\",\"square\":\"\",\"size\":\"md\",\"dense\":\"\",\"color\":\"grey\",\"text-color\":\"white\",\"icon\":\"shuffle\"},on:{\"click\":_vm.shuffleImages}})],1),_c('q-carousel-control',{attrs:{\"position\":\"bottom-left\",\"offset\":[0, 18]}},[_c('q-btn',{class:{ hidden: !_vm.$store.newImages },attrs:{\"square\":\"\",\"size\":\"md\",\"dense\":\"\",\"text-color\":\"warning\",\"icon\":\"new_releases\"}})],1)]},proxy:true}]),model:{value:(_vm.$store.currentSlideIndex),callback:function ($$v) {_vm.$set(_vm.$store, \"currentSlideIndex\", $$v)},expression:\"$store.currentSlideIndex\"}},_vm._l((_vm.images),function(img,index){return _c('q-carousel-slide',{key:index,attrs:{\"name\":index,\"img-src\":img.baseUrl}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <q-carousel\n      swipeable\n      v-model=\"$store.currentSlideIndex\"\n      :autoplay=\"$store.autoplay\"\n      transition-next=\"slide-fade\"\n      transition-prev=\"slide-fade\"\n      :fullscreen.sync=\"fullscreen\"\n      animated\n      infinite\n      :height=\"windowHeight\"\n      @click=\"showControls\"\n    >\n      <!-- <img\n        src=\"images/no-images.png\"\n        alt=\"no-images\"\n        class=\"fit\"\n        style=\"object-fit: cover;\"\n      /> -->\n      <q-carousel-slide\n        v-for=\"(img, index) in images\"\n        :key=\"index\"\n        :name=\"index\"\n        :img-src=\"img.baseUrl\"\n      />\n      <template v-slot:control>\n        <q-carousel-control\n          position=\"bottom-right\"\n          :offset=\"[18, 18]\"\n          :class=\"controlClass\"\n        >\n          <q-btn\n            push\n            square\n            dense\n            color=\"grey\"\n            size=\"md\"\n            text-color=\"white\"\n            :icon=\"fullscreen ? 'fullscreen_exit' : 'fullscreen'\"\n            @click=\"toggleFullScreen\"\n          />\n        </q-carousel-control>\n        <q-carousel-control\n          position=\"top-right\"\n          :offset=\"[18, 18]\"\n          class=\"text-white rounded-borders\"\n          :class=\"controlClass\"\n          style=\"background: rgba(0, 0, 0, .3); padding: 4px 8px;\"\n        >\n          <q-toggle\n            dense\n            dark\n            color=\"orange\"\n            v-model=\"newImagesOnly\"\n            :label=\"'Only New (' + newImageCt + ')'\"\n          />\n        </q-carousel-control>\n\n        <q-carousel-control\n          position=\"top-right\"\n          :class=\"controlClass\"\n          :offset=\"[18, 60]\"\n        >\n          <q-btn\n            push\n            square\n            size=\"md\"\n            dense\n            color=\"grey\"\n            text-color=\"white\"\n            :icon=\"$store.autoplay === 0 ? 'play_arrow' : 'pause'\"\n            @click=\"$store.autoplay = $store.autoplay === 0 ? 8000 : 0\"\n          />\n        </q-carousel-control>\n        <q-carousel-control\n          position=\"top-right\"\n          :class=\"controlClass\"\n          :offset=\"[18, 100]\"\n        >\n          <q-btn\n            push\n            square\n            size=\"md\"\n            dense\n            color=\"grey\"\n            text-color=\"white\"\n            :icon=\"$store.newImages ? 'check' : 'cached'\"\n            @click=\"\n              $store.newImages\n                ? $actions.markImagesRead()\n                : $actions.loadImages(false)\n            \"\n          />\n        </q-carousel-control>\n        <q-carousel-control\n          position=\"top-right\"\n          :class=\"controlClass\"\n          :offset=\"[18, 140]\"\n        >\n          <q-btn\n            push\n            square\n            size=\"md\"\n            dense\n            color=\"grey\"\n            text-color=\"white\"\n            icon=\"shuffle\"\n            @click=\"shuffleImages\"\n          />\n        </q-carousel-control>\n        <q-carousel-control position=\"bottom-left\" :offset=\"[0, 18]\">\n          <q-btn\n            square\n            size=\"md\"\n            dense\n            text-color=\"warning\"\n            icon=\"new_releases\"\n            :class=\"{ hidden: !$store.newImages }\"\n          />\n        </q-carousel-control>\n      </template>\n    </q-carousel>\n  </div>\n</template>\n\n<script>\nimport { store, actions } from '../boot/store'\nlet timeout = null\nlet wakeLock = null\n\nconst requestWakeLock = async () => {\n  try {\n    wakeLock = await navigator.wakeLock.request('screen')\n    wakeLock.addEventListener('release', () => {\n      console.log('Screen Wake Lock released:', wakeLock.released)\n    })\n    console.log('Screen Wake Lock released:', wakeLock.released)\n  } catch (err) {\n    console.error(`${err.name}, ${err.message}`)\n  }\n}\nconst handleVisibilityChange = async () => {\n  if (wakeLock !== null && document.visibilityState === 'visible') {\n    await requestWakeLock()\n  }\n}\ndocument.addEventListener('visibilitychange', handleVisibilityChange)\nexport default {\n  data () {\n    return {\n      controlClass: 'hidden',\n      windowHeight: 0,\n      fullscreen: false,\n      $store: store,\n      $actions: actions,\n      interval: null,\n      newImagesOnly: false\n    }\n  },\n  computed: {\n    images () {\n      if (this.$store.images.length > 0) {\n        this.$q.loading.hide()\n      }\n      if (this.newImagesOnly) {\n        const images = this.$store.images.filter(i => i.new)\n        if (images.length === 0) {\n          images.push({ id: 'no-images', baseUrl: 'images/no-images.png' })\n        }\n        return images\n      }\n      return this.$store.images\n    },\n    newImageColor () {\n      return this.$store.newImages ? 'warning' : ''\n    },\n    newImageCt () {\n      const images = this.$store.images.filter(i => {\n        return i.new && i.id !== 'no-images'\n      })\n      return images.length\n    }\n  },\n  watch: {\n    images: function (val) {\n      if (this.$store.currentSlideIndex > val.length) {\n        this.$store.currentSlideIndex = 0\n      }\n    }\n  },\n  methods: {\n    showControls: function () {\n      this.controlClass = ''\n      if (timeout) {\n        clearTimeout(timeout) // cancel the previous timer.\n        timeout = null\n      }\n      timeout = setTimeout(\n        function () {\n          this.controlClass = 'hidden'\n          clearTimeout((this.timeout = null))\n        }.bind(this),\n        4000\n      )\n    },\n    toggleFullScreen: function () {\n      this.fullscreen = !this.fullscreen\n      if (this.$q.fullscreen.isActive !== this.fullscreen) {\n        this.$q.fullscreen.toggle()\n      }\n    },\n    shuffleImages: function () {\n      this.$actions.shuffleImages()\n    },\n    onlyNew: function () {\n      this.newImagesOnly = !this.newImagesOnly\n      this.$store.currentSlideIndex = 0\n    }\n  },\n  async created () {\n    this.windowHeight = window.innerHeight - 124 + 'px'\n    this.$q.loading.show()\n    if ('wakeLock' in navigator) {\n      await requestWakeLock()\n    } else {\n      // alert('Wake lock not supported')\n      console.log('wakelock:', 'wakeLock' in navigator)\n    }\n  },\n  async beforeDestroy () {\n    if ('wakeLock' in navigator) {\n      wakeLock.release()\n      // wakeLock = null\n    }\n  }\n}\n</script>\n<style>\n.q-carousel__slide {\n  min-height: 100%;\n  background-size: contain;\n  background-position: 50%;\n  background-repeat: no-repeat;\n}\n.q-carousel__slides-container {\n  height: 100%;\n  background-color: black;\n}\n\n.q-transition--slide-fade-enter-active {\n  transition: all 3s cubic-bezier(0.33, 1, 0.68, 1);\n}\n.q-transition--slide-fade-leave-active {\n  transition: all 3s cubic-bezier(0.32, 0, 0.67, 0);\n}\n.q-transition--slide-fade-enter,\n.q-transition--slide-fade-leave-to {\n  opacity: 0;\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSlideshow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSlideshow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageSlideshow.vue?vue&type=template&id=3d84ec49&\"\nimport script from \"./PageSlideshow.vue?vue&type=script&lang=js&\"\nexport * from \"./PageSlideshow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageSlideshow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QCarousel from 'quasar/src/components/carousel/QCarousel.js';\nimport QCarouselSlide from 'quasar/src/components/carousel/QCarouselSlide.js';\nimport QCarouselControl from 'quasar/src/components/carousel/QCarouselControl.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QTr from 'quasar/src/components/table/QTr.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QCarousel,QCarouselSlide,QCarouselControl,QBtn,QToggle,QTr});\n","// extracted by mini-css-extract-plugin","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-2-2!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSlideshow.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}